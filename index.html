<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="UTF-8">
<title>Payment Page</title>

<style>
body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
background:#f2f4f8;
}

.topbar{
background:#6b21a8;
color:white;
padding:14px;
text-align:center;
font-weight:600;
}

.amountBox{
background:white;
padding:20px;
text-align:center;
}

.amountBox h2{
margin:0;
font-size:18px;
color:#555;
}

.amount{
font-size:32px;
font-weight:700;
margin:10px 0;
}

.qr{
display:block;
margin:15px auto;
}

.section{
padding:15px;
}

.method{
background:white;
border-radius:12px;
padding:14px;
margin-bottom:12px;
display:flex;
justify-content:space-between;
align-items:center;
box-shadow:0 4px 12px rgba(0,0,0,0.05);
}

.method button{
border:none;
padding:10px 16px;
border-radius:8px;
font-weight:600;
cursor:pointer;
color:white;
}

.paytm{background:#00baf2;}
.phonepe{background:#5f259f;}
.gpay{background:#0f9d58;}

.copyBox{
background:white;
padding:14px;
border-radius:12px;
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:15px;
}

.copyBtn{
background:#2563eb;
color:white;
border:none;
padding:8px 14px;
border-radius:8px;
cursor:pointer;
}

.warning{
font-size:13px;
color:#b91c1c;
margin-bottom:15px;
}

input{
width:100%;
padding:14px;
border-radius:10px;
border:1px solid #ccc;
margin-bottom:12px;
}

.submit{
width:100%;
padding:14px;
background:#2563eb;
color:white;
border:none;
border-radius:12px;
font-weight:600;
cursor:pointer;
}

.success{
display:none;
padding:30px;
text-align:center;
background:white;
margin:20px;
border-radius:12px;
}
</style>
</head>
<body>

<div class="topbar">
Time Remaining: <span id="timer">05:00</span>
</div>

<div class="amountBox">
<h2>Amount Payable</h2>
<div class="amount" id="amount">₹0</div>
<p>Scan the QR code or choose payment method</p>
<img id="qr" class="qr" width="200">
</div>

<div class="section">

<div class="method">
<div>Paytm</div>
<button class="paytm" onclick="payNow()">Pay</button>
</div>

<div class="method">
<div>PhonePe</div>
<button class="phonepe" onclick="payNow()">Pay</button>
</div>

<div class="method">
<div>Google Pay</div>
<button class="gpay" onclick="payNow()">Pay</button>
</div>

<h4>Manual Transfer (Copy UPI ID)</h4>

<div class="copyBox">
<span id="upi"></span>
<button class="copyBtn" onclick="copyUPI()">Copy</button>
</div>

<div class="warning">
Do not reuse old UPI. Always use fresh payment link.
</div>

<h4>Enter 12 Digit UTR</h4>

<input id="utr" placeholder="Enter UTR Number" maxlength="12">
<button class="submit" onclick="submitUTR()">Submit UTR</button>

</div>

<div class="success" id="successBox">
<h3>Payment Submitted</h3>
<p>Your payment is under verification.<br>Please wait.</p>
</div>

<script>

const params = new URLSearchParams(window.location.search);
const amount = params.get("amount") || "1";
const upi = params.get("upi") || "upi@bank";

document.getElementById("amount").innerText = "₹ " + amount;
document.getElementById("upi").innerText = upi;

const upiLink = `upi://pay?pa=${upi}&pn=Payment&am=${amount}&cu=INR`;

document.getElementById("qr").src =
`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(upiLink)}`;

function payNow(){
window.location.href = upiLink;
}

function copyUPI(){
navigator.clipboard.writeText(upi);
}

function submitUTR(){
const val = document.getElementById("utr").value;
if(!/^[0-9]{12}$/.test(val)) return;
document.querySelector(".section").style.display="none";
document.getElementById("successBox").style.display="block";
}

/* Timer */
let time = 300;
setInterval(()=>{
let m=Math.floor(time/60);
let s=time%60;
if(s<10)s="0"+s;
document.getElementById("timer").innerText=m+":"+s;
time--;
},1000);

</script>

</body>
</html>
